<!doctype html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cari Cerita - CeritaKu</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        // Menggunakan Poppins sebagai font utama (sans-serif)
                        sans: ['Poppins', 'sans-serif'], 
                    },
                    colors: {
                        // Definisikan warna-warna utama agar mudah diubah
                        'primary-color': '#FA812F',
                        'primary-text': '#241b00',
                        'secondary-text': '#797772',
                        'border-default': '#e2e2e2',
                        'cta-main': '#FA812F',
                        'cta-hover': '#e6742a',
                        // Warna Dark Mode
                        'dark-bg': '#121212',
                        'dark-card': '#1f1f1f',
                        'dark-text': '#f0f0f0',
                        'dark-secondary-text': '#b3b3b3',
                        'dark-border': '#333333',
                    },
                    boxShadow: {
                        'header-shadow': '0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.02)',
                        'search-shadow': '0 8px 20px -10px rgba(0, 0, 0, 0.15)',
                    },
                }
            }
        }
    </script>
    
    <style>
        /* Memastikan line-clamp berfungsi untuk deskripsi */
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>

</head>

<body class="bg-gray-50 dark:bg-dark-bg font-sans min-h-screen transition-colors duration-300"> 
    
    <script>
        // Cek LocalStorage atau preferensi sistem untuk Dark Mode
        if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>

    <header class="header sticky top-0 z-40 bg-white dark:bg-dark-card w-full shadow-header-shadow flex items-center justify-between px-4 sm:px-8 py-3 border-b border-border-default dark:border-dark-border">
        
        <div class="kiri flex items-center">
            <nav class="menu flex text-lg sm:text-base font-medium">
                <a class="nav-link text-secondary-text dark:text-dark-secondary-text hover:text-primary-color dark:hover:text-primary-color transition duration-200 flex items-center space-x-1 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border/50" href="home.html">
                    <i class="bi bi-house-door text-xl sm:text-lg"></i>
                    <span class="hidden sm:inline font-semibold text-sm">BERANDA</span>
                </a>
                <a class="nav-link text-primary-color transition duration-200 flex items-center space-x-1 p-2 rounded-lg" href="#">
                  <i class="bi bi-search text-xl sm:text-lg"></i>
                <span class="hidden sm:inline font-semibold text-sm">CARI</span>
                </a>
                <a class="nav-link text-secondary-text dark:text-dark-secondary-text hover:text-primary-color dark:hover:text-primary-color transition duration-200 flex items-center space-x-1 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border/50" href="perpus.html">
                    <i class="bi bi-book text-xl sm:text-lg"></i>
                    <span class="hidden sm:inline font-semibold text-sm">KOLEKSI</span>
                </a>
            </nav>
        </div>

        <div class="kanan relative flex items-center space-x-4 sm:space-x-6">
            <i id="darkModeToggle" class="bi text-2xl text-primary-text dark:text-dark-text cursor-pointer hover:text-primary-color transition duration-200 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-border/50"></i>
            
            <a class="profile w-10 h-10 sm:w-[43px] sm:h-[43px] rounded-full overflow-hidden border-2 border-gray-300 hover:border-primary-color transition duration-200 block dark:border-dark-border dark:hover:border-primary-color" href="#" data-dropdown-toggle>
                <img src="img/profile.jpg" alt="user" class="w-full h-full object-cover">
            </a>

            <div class="dropdown-menu absolute bg-white dark:bg-dark-card mt-1 w-48 rounded-lg shadow-2xl border border-border-default dark:border-dark-border overflow-hidden top-[60px] right-0 z-50 transition-all duration-200 hidden flex-col" data-dropdown>
                <a href="profiluser.html" class="block p-3 text-primary-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-border transition duration-150 text-sm font-medium"><i class="bi bi-person-circle mr-2"></i> Lihat Profil</a>
                <hr class="my-0 border-border-default dark:border-dark-border">
                <a href="ceritaBaru.html" class="block p-3 text-primary-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-border transition duration-150 text-sm font-medium"><i class="bi bi-pencil-square mr-2"></i> Buat Cerita</a>
                <a href="buatcerita.html" class="block p-3 text-primary-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-border transition duration-150 text-sm font-medium"><i class="bi bi-journal-text mr-2"></i> Cerita Saya</a>
                <a href="#" class="block p-3 text-primary-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-border transition duration-150 text-sm font-medium"><i class="bi bi-box-arrow-right mr-2"></i> Logout</a>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-4 sm:px-8 py-8">

        <div class="search bg-white dark:bg-dark-card rounded-lg shadow-search-shadow max-w-7xl mx-auto p-4 sm:p-5 mb-8">
            <form class="flex flex-col sm:flex-row items-center gap-3" role="search">
                <input class="w-full h-11 px-4 py-2 border border-gray-300 dark:border-dark-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-color dark:bg-dark-bg dark:text-dark-text dark:placeholder-dark-secondary-text transition duration-200" type="search" placeholder="Cari cerita" aria-label="Search" />
                
                <div class="bawah w-full flex justify-between items-center sm:w-auto sm:space-x-3">
                    
                    <div class="relative inline-block text-left" data-filter-toggle>
                        <button class="btn-filter inline-flex justify-center items-center h-11 px-4 py-2 text-sm font-medium text-primary-text dark:text-dark-text bg-white dark:bg-dark-card border border-gray-300 dark:border-dark-border rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-dark-border/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-color transition duration-200" type="button" aria-expanded="false" aria-haspopup="true">
                            Filter <i class="bi bi-chevron-down ml-2 -mr-1"></i>
                        </button>
                        
                        <div class="dropdown-menu-filter absolute left-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-dark-card ring-1 ring-black ring-opacity-5 hidden z-10" data-filter-menu>
                            <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
                                <a href="#" class="block px-4 py-2 text-sm text-primary-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-border" role="menuitem">Genre</a>
                                <a href="#" class="block px-4 py-2 text-sm text-primary-text dark:text-dark-text hover:bg-gray-100 dark:hover:bg-dark-border" role="menuitem">Status</a>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="cari inline-flex items-center justify-center h-11 w-11 text-white bg-cta-main hover:bg-cta-hover rounded-lg transition duration-200 ml-2">
                        <i class="bi bi-search text-xl"></i>
                    </button>
                </div>
            </form>
        </div>

        <a href="detail_cerita.html" class="hasil flex flex-col sm:flex-row items-start p-4 sm:p-5 rounded-xl shadow-lg border border-border-default dark:border-dark-border/50 bg-white dark:bg-dark-card transition-all duration-300 hover:shadow-xl hover:border-primary-color dark:hover:border-primary-color max-w-7xl mx-auto mb-6 cursor-pointer">
            
            <div class="cover flex-shrink-0 mb-4 sm:mb-0 sm:mr-6 mx-auto">
                <img src="img/cantik itu luka.jpg" alt="Cover Cantik Itu Luka" class="w-32 sm:w-36 h-auto rounded-lg shadow-md">
            </div>

            <div class="isi w-full">
                
                <div class="judul mb-2 sm:mb-4">
                    <p class="text-xl sm:text-2xl font-bold text-primary-text dark:text-dark-text capitalize">cantik itu luka</p>
                </div>

                <div class="status mb-3">
                    <p class="inline-flex px-3 py-0.5 bg-green-500 dark:bg-green-700 text-white text-xs font-semibold rounded-full">
                        Lengkap
                    </p>
                </div>

                <div class="detail flex items-center space-x-4 sm:space-x-6 mb-4 sm:mb-5 border-b border-gray-200 dark:border-dark-border pb-3">
                    
                    <div class="per flex items-center space-x-2 text-sm text-secondary-text dark:text-dark-secondary-text">
                        <i class="fa-solid fa-heart text-red-500"></i>
                        <span class="font-medium">Disukai</span>
                        <span class="angka font-bold text-primary-text dark:text-dark-text ml-1">20</span>
                    </div>

                    <div class="h-4 w-px bg-gray-300 dark:bg-dark-border"></div>

                    <div class="per flex items-center space-x-2 text-sm text-secondary-text dark:text-dark-secondary-text">
                        <i class="fa-solid fa-lines-leaning text-primary-color"></i>
                        <span class="font-medium">Chapter</span>
                        <span class="angka font-bold text-primary-text dark:text-dark-text ml-1">3</span>
                    </div>
                </div>

                <div class="deskripsi">
                    <p class="text-sm sm:text-base text-primary-text dark:text-dark-text line-clamp-3 leading-relaxed">
                        Hidup di era kolonialisme bagi para wanita dianggap sudah setara seperti hidup di neraka. Terutama bagi para wanita berparas cantik yang menjadi incaran tentara penjajah untuk melampiaskan hasrat mereka. Itu lah takdir miris yang dilalui Dewi Ayu, demi menyelamatkan hidupnya sendiri Dewi harus menerima paksaan menjadi pelacur bagi tentara Belanda dan Jepang selama masa kedudukan mereka di Indonesia.
                        <br><br>Kecantikan Dewi tidak hanya terkenal dikalangan para penjajah saja, seluruh desa pun mengakui pesona parasnya itu. Namun bagi Dewi, kecantikannya ini seperti kutukan, kutukan yang membuat hidupnya sengsara, dan kutukan yang mengancam takdir keempat anak perempuannya yang ikut mewarisi genetik cantiknya.
                        <br><br>Tapi tidak dengan satu anak terakhir Dewi, si Cantik, yang lahir dengan kondisi buruk rupa. Tak lama setelah mendatangkan Cantik ke dunia, Dewi harus berpulang. Tapi di satu sore, dua puluh satu tahun kemudian, Dewi kembali, bangkit dari kuburannya. Kebangkitannya menguak kutukan dan tragedi keluarga.
                    </p>
                </div>
            </div>
        </a>
        
        </div>

    <script>
        const profileLink = document.querySelector('[data-dropdown-toggle]');
        const dropdownMenu = document.querySelector('[data-dropdown]');
        const html = document.documentElement; 
        const toggleButton = document.getElementById('darkModeToggle');
        
        // Elemen Filter Dropdown
        const filterToggle = document.querySelector('[data-filter-toggle]');
        const filterMenu = document.querySelector('[data-filter-menu]');

        // 1. Dropdown Menu Profil
        function setupProfileDropdown() {
            if (profileLink) {
                profileLink.addEventListener('click', function(e) {
                    e.preventDefault(); 
                    const isHidden = dropdownMenu.classList.contains('hidden');
                    // Toggle visibility: hidden/flex
                    if (isHidden) {
                        dropdownMenu.classList.remove('hidden');
                        dropdownMenu.classList.add('flex');
                    } else {
                        dropdownMenu.classList.add('hidden');
                        dropdownMenu.classList.remove('flex');
                    }
                });

                // Close dropdown if user clicks outside
                document.addEventListener('click', function(e) {
                    if (!profileLink.contains(e.target) && !dropdownMenu.contains(e.target)) {
                        dropdownMenu.classList.add('hidden');
                        dropdownMenu.classList.remove('flex');
                    }
                });
            }
        }
        setupProfileDropdown();
        
        // 2. Dropdown Menu Filter
        function setupFilterDropdown() {
             if (filterToggle && filterMenu) {
                filterToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    // Toggle visibility: hidden/block
                    filterMenu.classList.toggle('hidden');
                });
                
                // Close filter dropdown if user clicks outside
                document.addEventListener('click', function(e) {
                    if (!filterToggle.contains(e.target) && !filterMenu.contains(e.target)) {
                        filterMenu.classList.add('hidden');
                    }
                });
            }
        }
        setupFilterDropdown();

        // 3. Dark Mode Toggle
        function applyDarkMode(isDark) {
            if (isDark) {
                html.classList.add('dark');
                toggleButton.classList.remove('bi-moon');
                toggleButton.classList.add('bi-sun');
                localStorage.setItem('theme', 'dark');
            } else {
                html.classList.remove('dark');
                toggleButton.classList.remove('bi-sun');
                toggleButton.classList.add('bi-moon');
                localStorage.setItem('theme', 'light');
            }
        }

        // Terapkan mode saat load (memanggil fungsi yang ada di body script)
        applyDarkMode(html.classList.contains('dark'));

        // Listener untuk tombol Dark Mode
        toggleButton.addEventListener('click', function() {
            const isCurrentlyDark = html.classList.contains('dark');
            applyDarkMode(!isCurrentlyDark);
        });
    </script>
</body>
</html>
